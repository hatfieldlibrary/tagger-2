<!--
  ~ Copyright (c) 2016.
  ~
  ~     This program is free software: you can redistribute it and/or modify
  ~     it under the terms of the GNU General Public License as published by
  ~     the Free Software Foundation, either version 3 of the License, or
  ~     (at your option) any later version.
  ~
  ~     This program is distributed in the hope that it will be useful,
  ~     but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~     GNU General Public License for more details.
  ~
  ~     You should have received a copy of the GNU General Public License
  ~     along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->

<md-content class="transparent" layout="row" layout-align="start start" flex="flex">
  <md-content class="transparent" layout="column" flex="100" flex-gt-lg="75">
    <md-card class="flex">
      <div ng-if="vm.user.$resolved"></div>
      <md-toolbar class="md_primary">
        <div class="md-toolbar-tools">
          <span flex="20">
            <i class="material-icons">group</i>
            <span class="md-subhead">&nbsp;USERS</span>
          </span>
          <span flex="flex"></span>
        </div>
      </md-toolbar>
      <md-card-content layout="row" style="margin-top: 40px;">
        <div flex="5"></div>
        <div flex="25" class="md-subhead" style="margin-left: -5px;">User Name</div>
        <div flex="25" class="md-subhead" style="margin-left: 5px;">Email</div>
        <div flex="25" class="md-subhead">Area or role</div>
        <div flex></div>
      </md-card-content>
      <md-list flex="100">
        <md-list-item class="md-2-line" layout="row" flex="100" ng-repeat="user in vm.users">
          <div flex="5"></div>
          <div flex="25">
            <md-input-container>
              <input size="40" type="text" ng-model="user.name" aria-label="User name"/>
            </md-input-container>
          </div>
          <div flex="25">
            <md-input-container>
              <input size="40" type="text" ng-model="user.email" aria-label="User email"/>
            </md-input-container>
          </div>
          <div flex="25">
            <md-input-container>
              <md-select ng-model="user.area" aria-label="Area">
                <md-option ng-value="area.id" ng-repeat="area in vm.areaList" track by $index>{{area.title}}</md-option>
              </md-select>
            </md-input-container>
          </div>
          <div flex="5"></div>
          <div flex="5">
            <md-button class="md-primary md-raised md-fab md-mini" aria-label="Update User" ng-click="vm.updateUser(user.id, user.name, user.email, user.area)">
              <md-tooltip>Update User</md-tooltip>
              <i class="material-icons">done</i>
            </md-button>
          </div>
          <div flex="10">
            <md-button class="md-warn md-raised md-fab md-mini" aria-label="Delete User" ng-click="vm.deleteUser(user.id)">
              <md-tooltip>Delete User</md-tooltip>
              <i class="material-icons">delete</i>
            </md-button>
          </div>
        </md-list-item>
        <md-list-item class="md-2-line">
          <div flex="85"></div>
          <flex></flex>
          <md-button class="md-accent md-raised md-fab md-mini" aria-label="Add User" ng-click="vm.newRow()">
            <md-tooltip>Add User</md-tooltip>
            <i class="material-icons">add</i>
          </md-button>
        </md-list-item>
      </md-list>
    </md-card>
  </md-content>
</md-content>
