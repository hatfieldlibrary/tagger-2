<!--
  ~ Copyright (c) 2017.
  ~
  ~     This program is free software: you can redistribute it and/or modify
  ~     it under the terms of the GNU General Public License as published by
  ~     the Free Software Foundation, either version 3 of the License, or
  ~     (at your option) any later version.
  ~
  ~     This program is distributed in the hope that it will be useful,
  ~     but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~     GNU General Public License for more details.
  ~
  ~     You should have received a copy of the GNU General Public License
  ~     along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->

<md-content class="transparent" layout-align="start start" flex="flex">
  <md-content class="transparent" layout="column" flex="flex">

    <md-card class="flex" flex="flex" style="min-height: 990px">
      <div ng-if="$ctrl.category.$resolved"></div>
      <md-toolbar class="md_primary">
        <div class="md-toolbar-tools">
          <span flex="50">
            <i class="material-icons">home</i>
            <span class="md-headline">&nbsp; {{$ctrl.areaLabel}} (ID: {{$ctrl.areaId}})</span>
          </span>
        </div>
      </md-toolbar>
      <md-card-content class="grid-list-overview" flex="flex">

        <md-grid-list md-cols-sm="1" md-cols-md="4" md-cols-lg="4" md-cols-gt-lg="4" md-row-height="210px"
                      md-gutter="12px" md-gutter-gt-sm="8px">
          <md-grid-tile class="blue">
            <div flex layout="row" layout-align="start start"
                 style="height:100%;width:100%;background: #f9f9f9;border-bottom: 1px solid #eee">
              <collection-access-summary collectionCount="$ctrl.collectionCount" flex></collection-access-summary>
            </div>
          </md-grid-tile>
          <md-grid-tile class="blue">
            <div flex layout="row" layout-align="start start"
                 style="height:100%;width:100%;background: #f9f9f9;border-bottom: 1px solid #eee">
              <item-type-summary collectionCount="$ctrl.collectionCount" flex></item-type-summary>
            </div>
          </md-grid-tile>
          <md-grid-tile class="blue">
            <div flex="flex" layout="row" layout-align="start start"
                 style="height:100%;width:100%;background: #f9f9f9;border-bottom: 1px solid #eee">
              <search-options-summary collectionCount="$ctrl.collectionCount" flex></search-options-summary>
            </div>
          </md-grid-tile>
          <md-grid-tile class="blue">
            <div flex="flex" layout="row" layout-align="start start"
                 style="height:100%;width:100%; background: #f9f9f9;border-bottom: 1px solid #eee">
              <link-type-summary collectionCount="$ctrl.collectionCount" flex></link-type-summary>
            </div>
          </md-grid-tile>

          <md-grid-tile class="blue" md-rowspan="2" md-colspan-gt-md="2" md-colspan-md="2" md-colspan-sm="1">
            <md-grid-tile-header>
              <h3>Collection Categories</h3>
            </md-grid-tile-header>
            <pie-visualization-component ng-if="$ctrl.categoriesReady" class="svg-container" id="categoryChart"
                                         flex="flex"
                                         style="min-height: 200px;width:96%;padding-top: 50px;position: inherit;margin-top: 20px"
                                         d3-pie="d3-pie" label="categorySVG"
                                         data="$ctrl.categoryCounts"></pie-visualization-component>
          </md-grid-tile>
          <md-grid-tile class="blue" md-rowspan="2" md-colspan-gt-md="2" md-colspan-md="2" md-colspan-sm="1">
            <md-grid-tile-header><h3>Content Types</h3>
            </md-grid-tile-header>
            <pie-visualization-component ng-if="$ctrl.typesReady" class="svg-container" id="typeChart" flex="flex"
                                         style="min-height: 200px;width:96%;padding-top: 50px;position: inherit;margin-top: 20px"
                                         d3-pie="d3-pie" label="typesSVG"
                                         data="$ctrl.typeCounts"></pie-visualization-component>
          </md-grid-tile>
          <md-grid-tile class="blue" md-rowspan="4" md-colspan-gt-lg="4" md-colspan-lg="4" md-colspan-md="4"
                        md-colspan-sm="1">
            <md-grid-tile-header>
              <h3>Collection Totals by Subject</h3>
            </md-grid-tile-header>
            <bar-visualization-component ng-if="$ctrl.subjectsReady" class="svg-container" id="subjectBar" flex="flex"
                                         style="min-height: 300px; width:96%;padding-top: 0px;position: relative;margin-top: 0;"
                                         d3-bar="d3-bar" label="typesSVG"
                                         data="$ctrl.subjects"></bar-visualization-component>
          </md-grid-tile>
        </md-grid-list>

      </md-card-content>
    </md-card>
  </md-content>
</md-content>
