<!--
  ~ Copyright (c) 2016.
  ~
  ~     This program is free software: you can redistribute it and/or modify
  ~     it under the terms of the GNU General Public License as published by
  ~     the Free Software Foundation, either version 3 of the License, or
  ~     (at your option) any later version.
  ~
  ~     This program is distributed in the hope that it will be useful,
  ~     but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~     GNU General Public License for more details.
  ~
  ~     You should have received a copy of the GNU General Public License
  ~     along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->
<md-content class="transparent" layout="column" layout-gt-sm="row" layout-align="start start" >

  <md-content class="transparent" layout="column" flex="100" flex-gt-sm="75">
    <md-card class="flex primary-content" flex="flex" style="background: #EAEAE6">
      <div ng-if="vm.collectionList.$resolved"></div>
      <md-toolbar class="md_primary" ng-class="{'is-not-published': !vm.isPublished}">
        <div class="md-toolbar-tools">
          <span flex="20">
            <i class="material-icons">collections</i>
            <span class="md-subhead responsive-heading">&nbsp;COLLECTIONS</span>
          </span>
          <span flex="70">
            <h3 class="md-display-1">{{vm.currentCollection.title}} (ID: {{vm.currentCollection.id}})</h3>
          </span>
          <span flex="flex"></span>
          <md-button class="md-warn md-raised md-fab md-mini" aria-label="Delete Collection" ng-click="vm.dialog.showDialog($event, vm.deleteMessage)">
            <i class="material-icons">delete</i>
          </md-button>
        </div>
      </md-toolbar>
      <md-content style="background: transparent">
        <div layout="row" layout-align="start start">
          <md-card-content flex="20">
            <md-button class="md-raised md-accent responsive-button" ng-click="vm.dialog.showDialog($event, vm.addMessage)">Add Collection</md-button>
          </md-card-content>
          <md-card-content layout="column" layout-padding="layout-padding" flex="80" flex-gt-sm="80" style="padding-left: 20px">
            <div class="md-subhead grey-text" flex="80">
              <span>Values must be provided for ALL of the information below, with the exception of coverage dates and item counts, which can be blank.  You can use the default image if none is available. A minimum of one content type and one subject tag should be provided.</span>
            </div>
          </md-card-content>
        </div>
        <md-card-content flex layout="row" layout-align="start start">
          <collection-list flex="20"></collection-list>
          <collection-form menu="vm.menuUpdate(id, title)" flex="80" style="border:1px solid #ccc;"></collection-form>
          <md-content class="transparent" ng-if="vm.collectionId == -1" layout-padding="layout-padding" flex="100" style="padding: 55px;padding-top: 30px;border: 1px solid #ccc;background: #fff">
            <div class="md-subhead grey-text" flex="85">
              <span>Add collection to area.</span>
            </div>
          </md-content>
        </md-card-content>
      </md-content>
    </md-card>
  </md-content>

  <md-content class="transparent" layout="column" flex="100" flex-gt-sm="25">
    <pub-status-switch collection-id="{{vm.collectionId}}"></pub-status-switch>
    <image-selector></image-selector>
    <subject-selector class="flex"></subject-selector>
    <content-type-selector class="flex"></content-type-selector>
    <area-selector flex="flex" ng-show="vm.userAreaId === 0"></area-selector>
  </md-content>

</md-content>
